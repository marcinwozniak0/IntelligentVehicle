image: debian:10
before_script:
 - export TERM=xterm-256color
 - export CXX=/usr/bin/g++
 - /builds/marcinwozniak0/IntelligentVehicle/scripts/ci_scripts/setup_ci_environment.sh

MASTER_BUILD:
  only:
    - master
  script:
    - cd /builds/marcinwozniak0/IntelligentVehicle/scripts/ci_scripts
    - ./compile_project_ci.sh

MASTER_UT:
  only:
    - master
  script:
    - cd /builds/marcinwozniak0/IntelligentVehicle/scripts/ci_scripts
    - ./compile_project_ci.sh
    - cd /builds/marcinwozniak0/IntelligentVehicle/build/bin/
    - ./intelligent_vehicle_ut

MASTER_VALGRIND:
  only:
    - master
  script:
    - cd /builds/marcinwozniak0/IntelligentVehicle/scripts/ci_scripts
    - ./compile_project_ci.sh
    - cd /builds/marcinwozniak0/IntelligentVehicle/build/
    - make valgrind
